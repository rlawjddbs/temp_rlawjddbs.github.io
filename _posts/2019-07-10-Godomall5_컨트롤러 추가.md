---
title: Godomall5 컨트롤러 추가
updated: 2019-07-10 11:25
category: PHP
---
  
**NOTE** : 고도몰5 솔루션의 컨트롤러 추가 및 파라미터 처리.

### 디렉토리 구조
#### 고도몰에서 설명하는 디렉토리 구조
<a href="https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/Directory.png" target="_new">![](https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/Directory.png)</a>

#### 개발자가 실제로 접근할 수 있는 디렉토리 구조
<a href="https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/file_architecture.png" target="_new">![](https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/file_architecture.png)</a>

<a href="http://doc.godomall5.godomall.com/Getting_Started/Installation#page_20161108" target="_new">godomall5 개발 가이드</a>에 기술된 내용인 즉슨 전체적인 경로의 구조는 상기 이미지와 같고 실질적으로 접근 가능한 경로는 user쪽의 경로.



<div class="divider"></div>

### 고도몰의 컨트롤러 추가 방법

<a href="https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/AddController.PNG" target="_new">![](https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/AddController.png)</a>

__\module\Controller\Front\__ 의 경로에 자신이 원하는 패키지(폴더)를 만들고 그 안에 컨트롤러 클래스를 작성하는 방식.

```php
# Hello.php
<?php
class Hello
{
    public function say()
    {
        echo "Hello- PHP!";
    } // say
} // class
```

### Hello 클래스의 인스턴스 생성 후 자원 사용
```php
# index.php
<?php
require_once 'Hello.php';

$sayHello = new Hello();
$sayHello->say();
```
require_once는 외부 파일을 가져오는 함수이며 공통적으로 사용할 코드는 이런식으로 별도의 php파일로 만든 후 각 파일에서 불러오는 것으로 코드의 양이 줄어들고, 수정이 용이해진다.

### Task01 클래스 작성
```php
# Task01.php
<?php
class Task01
{
    public function todoTask()
    {
        echo "todo Task!";
    }
}
```
새로운 클래스를 작성하였다. 해당 클래스의 인스턴스를 생성하기 위해서는 또 하나의 require_once 함수를 사용해야만 하는데 이러한 클래스가 계속해서 생겨 난다면 일일이 외부 파일을 불러오는 코드를 작성하는것은 비효율적이다.

### index.php 수정
```php
<?php
// require_once 'Hello.php';
// require_once 'Task01.php';
spl_autoload_register('my_autoloader');

$sayHello = new Hello();
$sayHello->say();

echo '<br>';

$task01 = new Task01();
$task01->todoTask();

function my_autoloader($class)

{
    require_once $class.'.php';
}
```

위 코드로 외부 파일을 불러와 손 쉽게 객체화를 할 수 있게 된다.
혹은 **익명함수** 방식으로도 사용할 수 있다.

### index.php 수정2
```php
<?php

spl_autoload_register(function ($class){
    require_once $class.'.php';
});

$sayHello = new Hello();
$sayHello->say();

echo '<br>';

$task01 = new Task01();
$task01->todoTask();
```