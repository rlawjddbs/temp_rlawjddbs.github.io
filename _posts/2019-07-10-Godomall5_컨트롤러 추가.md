---
title: Godomall5 컨트롤러 추가
updated: 2019-07-10 11:25
category: PHP
---
  
**NOTE** : 고도몰5 솔루션의 컨트롤러 추가 및 파라미터 처리.

### 디렉토리 구조
#### 고도몰에서 설명하는 디렉토리 구조
<a href="https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/Directory.png" target="_new">![](https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/Directory.png)</a>

#### 개발자가 실제로 접근할 수 있는 디렉토리 구조
<a href="https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/file_architecture.png" target="_new">![](https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/file_architecture.png)</a>

<a href="http://doc.godomall5.godomall.com/Getting_Started/Installation#page_20161108" target="_new">godomall5 개발 가이드</a>에 기술된 내용인 즉슨 전체적인 경로의 구조는 상기 이미지와 같고 실질적으로 접근 가능한 경로는 user쪽의 경로.

<div class="divider"></div>

### 고도몰의 컨트롤러 추가 방법

<a href="https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/AddController.PNG" target="_new">![](https://raw.githubusercontent.com/rlawjddbs/rlawjddbs.github.io/master/assets/common/imgs/190710/AddController.PNG)</a>

신규 컨트롤러 작성 경로  
**\module\Controller\Front\컨트롤러명.php**  
자바의 MVC패턴처럼 컨트롤러를 패키지 단위로 나누어 작성할 것을 권장하고 있다. 여기서 Front는 PC환경에서 적용되는 패키지기 때문에 모바일에선 작성한 Front 패키지 내부에 작성된 컨트롤러가 동작하지 않는다. 모바일에서도 컨트롤러가 동작하게끔 하려면 **\module\Controller\Mobile\컨트롤러명.php** 처럼 Front 패키지에서 컨트롤러를 작성했던 것과 같은 방식으로 클래스를 다시 작성해야 한다.

### TestController 작성
```php
<?php
// TestController.php
// Test 패키지 내부의 TestController 생성
namespace Controller\Front\Test;

use Globals;
use Session;
use Response;
use Request;

/**
 * 테스트용
 */
class TestController extends \Controller\Front\Controller
{
    /**
     * {@inheritdoc}
     */
    public function index()
    {
        $setData = 'Hello World !!!';
        $this->setData('setData', $setData);
    }
}
```
지정된 경로에 컨트롤러.php 를 추가하였다면 지금부터는 컨트롤러.php 에 대응하는 view를 만들어야 한다. view의 위치는 다음과 같다.
**\data\skin\front\스킨명\test\test.html**  
여기서도 일종의 규칙이 있는데 예를들어 컨트롤러의 위치가  
**\module\Controller\Front\Abc\AbcController.php**  
였다면 view의 디렉토리 구조 및 파일명은  
**\data\skin\front\스킨명\abc\abc.html**  
과 같아야 한다. 즉 view단에서는 컨트롤러 상위 패키지명(Abc)을 따르지만 lowercase(abc)로 작성하고 컨트롤러명에서 Controller를 뺀 Abc를 마찬가지로 lowercase(abc.html)로 작성해주면 된다.

```html
<table border="1">
    <tr>
        <td>{=setData}</td>
    </tr>
</table>
```
