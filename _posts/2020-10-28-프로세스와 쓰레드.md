---
title: 프로세스와 쓰레드
updated: 2020-10-28 21:00
category: Java
published: false
---
# 1. 프로세스와 쓰레드
- `프로세스(Process)`란 간단히 말해서 `실행 중인 프로그램(program)`
- 프로그램을 실행하면 `OS`로부터 실행에 필요한 `자원(메모리)`을 할당받아 프로세스가 됨
   
![program & process](https://github.com/rlawjddbs/rlawjddbs.github.io/blob/master/_posts/imgs/201028/program_and_process.png)   
> 프로그램과 프로세스
   
- `프로세스`는 프로그램을 수행하는 데 필요한 `데이터`와 `메모리 등의 자원`, `쓰레드`로 구성되어 있음
- 모든 프로세스에는 **최소한 하나 이상의 쓰레드가 존재**
- 둘 이상의 쓰레드를 가진 프로세스를 **멀티쓰레드 프로세스(multi-thread process)**라고 함
> \[참고\] 쓰레드를 프로세스라는 작업공간(공장)에서 작업을 처리하는 일꾼(worker)으로 생각하면 이해하기 쉬움
   
![thread](https://github.com/rlawjddbs/rlawjddbs.github.io/blob/master/_posts/imgs/201028/thread.png)   
> 싱글쓰레드와 멀티쓰레드
   
- 하나의 프로세스가 가질 수 있는 쓰레드의 개수는 제한되어 있지 않으나 쓰레드가 작업을 수행하는데 개별적인 메모리 공간(호출스택)을 필요로 하기 때문에 프로세스의 메모리 한계에 따라 생성할 수 있는 쓰레드의 수가 결정됨
- 실제로는 프로세스의 메모리 한계에 다다를 정도로 많은 쓰레드를 생성하는 일은 거의 없음

## 멀티태스킹과 멀티쓰레딩
- 윈도우나 유닉스를 포함한 대부분의 OS는 `멀티태스킹(multi-tasking, 다중작업)`을 지원하므로 여러 개의 프로세스가 동시에 실행 가능
- `멀티쓰레딩`은 **하나의 프로세스 내에서 여러 쓰레드가 동시에 작업을 수행하는 것**
- CPU의 `코어(core)`가 **한 번에 단 하나의 작업만 수행할 수** 있으므로, **실제로 동시에 처리되는 작업의 개수는 코어의 개수와 일치**
- 그러나 첫 번째 그림과 같이 **처리해야하는 쓰레드의 수는 언제나 코어의 개수보다 훨씬 많음**
    - 각 코어가 **아주 짧은 시간 동안 여러 작업을 번갈아 가며 수행함으로써 여러 작업들이 모두 동시에 수행되는 것처럼** 보임
- 프로세스의 성능이 단순히 쓰레드의 개수에 비례하는 것이 아님
    - 하나의 쓰레드를 가진 프로세스 보다 두 개의 쓰레드를 가진 프로세스가 오히려 더 낮은 성능을 보일 수 있음